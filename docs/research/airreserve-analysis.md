# Airリザーブ仕様調査

## 概要

Airリザーブ（https://airregi.jp/reserve/）は、リクルートが提供する予約システムです。保育施設「子育て応援拠点こころと」では、このシステムを使用して一時預かりの予約を受け付けています。

## 対象サイトの詳細

### 基本情報
- **URL**: https://airrsv.net/kokoroto-azukari/calendar
- **施設名**: 子育て応援拠点こころと（一時預かり）
- **所在地**: 愛知県名古屋市昭和区雪見町2-14
- **電話**: 052-784-7787

### ページ構造

#### カレンダーページ
- カレンダー形式で日付ごとに予約リンクが表示
- 予約可能な日時は「残○」などの表示で示される
- 満員の場合は「満員」と表示
- 受付終了の場合は「受付終了」と表示

#### 予約フロー
1. **メニュー選択**: 利用するサービスを選択
2. **日時選択**: 希望する日時を選択
3. **情報入力**: 予約者情報とお子様の情報を入力
4. **確認**: 入力内容を確認
5. **予約完了**: 予約確定

## 技術的詳細

### HTML構造
- カレンダーはテーブル形式で実装
- 予約可能な日時はリンク（`<a>`タグ）として実装
- CSSクラス名は動的に生成される可能性がある

### JavaScript
- 動的なコンテンツの読み込みにJavaScriptを使用
- AJAXによる非同期通信の可能性
- フォーム送信時のバリデーション

### セキュリティ対策
- CSRFトークンの使用
- セッション管理
- レート制限の可能性

## 予約公開スケジュール

### 公開タイミング
- **頻度**: 月1回
- **日時**: 毎月1日 9:30
- **方式**: 手作業による順次追加

### 監視戦略
- 公開3秒前から監視開始
- 1秒間隔での継続的チェック
- 公開後10分間の監視

## 既存ツール調査結果

### 調査対象
- GitHub上のオープンソースプロジェクト
- Airリザーブ専用の自動化ツール
- 一般的な予約サイト自動化ツール

### 調査結果
**Airリザーブ専用の既存自動予約プログラムは見つかりませんでした。**

#### 類似ツール
- 一般的なWebスクレイピングツール
- ブラウザ自動化フレームワーク
- 予約サイト向けの汎用ツール

#### 課題
- Airリザーブの特定の実装に依存
- フォーム構造の変更への対応
- セキュリティ対策の回避

## 実装上の考慮事項

### 技術的課題
1. **動的コンテンツ**: JavaScriptで生成される要素への対応
2. **セレクターの変更**: CSSクラス名の動的変更への対応
3. **レート制限**: 過度なアクセスによる制限回避
4. **エラーハンドリング**: ネットワークエラーやページ構造変更への対応

### 倫理的配慮
1. **利用規約の遵守**: サイトの利用規約を確認し遵守
2. **他の利用者への配慮**: システムに過度な負荷をかけない
3. **個人情報保護**: 入力情報の適切な管理

### 法的配慮
1. **スクレイピングの合法性**: 日本の法律に基づく適切な実装
2. **個人情報保護法**: 個人情報の適切な取り扱い
3. **利用規約違反**: サイトの利用規約に違反しない実装

## 今後の調査項目

### 技術的調査
- [ ] 実際のHTML構造の詳細分析
- [ ] JavaScriptの動作確認
- [ ] APIエンドポイントの調査
- [ ] セキュリティ対策の詳細確認

### 運用調査
- [ ] 予約公開の実際のタイミング確認
- [ ] システムメンテナンス時間の確認
- [ ] エラーパターンの調査

### 改善提案
- [ ] より効率的な監視方法の検討
- [ ] エラー処理の改善
- [ ] 通知機能の拡張
